{%- comment -%}
  Series navigation include.

  Usage:
    - Set `series: "Some Series Name"` in a post's front matter.
    - Optional: set `series_title` to override the displayed title.

  Default ordering is by `date` ascending (oldest -> newest).
{%- endcomment -%}

{%- if page.series != nil and page.series != '' -%}
  {%- assign series_name = page.series -%}
  {%- assign series_title = page.series_title | default: series_name -%}
  {%- assign series_posts = site.posts | where: 'series', series_name | sort: 'date' -%}

  {%- if series_posts != nil and series_posts.size > 1 -%}
    <blockquote class="prompt-info mt-4 mb-4">
      <p>This post is part of a series:<strong> {{ series_title }} </strong></p>
      <ol class="mb-0">
        {%- for p in series_posts -%}
          <li>
            {%- if p.url == page.url -%}
              <strong>{{ p.title }}</strong>
            {%- else -%}
              <a href="{{ p.url | relative_url }}">{{ p.title }}</a>
            {%- endif -%}
          </li>
        {%- endfor -%}
      </ol>
    </blockquote>
  {%- endif -%}
{%- endif -%}
