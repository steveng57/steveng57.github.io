---
layout: default
title: Contact
permalink: /contact/
---

<link rel="stylesheet" href="/assets/css/chirpy-contact-form.css">

<!-- Load Cloudflare Turnstile script -->
<script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>

<script>
  // Turnstile success callback (referenced via data-callback)
  window.onTurnstileSuccess = function() {
    const form = document.getElementById('contact-form');
    const submitBtn = form ? form.querySelector('button[type="submit"]') : null;
    if (submitBtn) submitBtn.disabled = false;
  };

  window.onTurnstileError = function() {
    alert('Security verification failed to load. Please refresh the page and try again.');
  };

  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('contact-form');
    const submitBtn = form ? form.querySelector('button[type="submit"]') : null;

    if (submitBtn) submitBtn.disabled = true;

    if (!form) {
      return;
    }

    form.addEventListener('submit', function(event) {
      const turnstileResponse = form.querySelector('input[name="cf-turnstile-response"]');

      if (!turnstileResponse || !turnstileResponse.value) {
        event.preventDefault();
        alert('Please complete the security verification.');
        return;
      }

      if (submitBtn) {
        submitBtn.disabled = true;
        submitBtn.textContent = 'Sending...';
      }
    });
  });
</script>

<div class="contact-wrapper">
  <h2>Get in touch</h2>
  <p>Have a question, suggestion, or message? Send it below.</p>

  <form action="/api/contact" method="POST" id="contact-form">

    <label>Your Email</label>
    <input name="email" type="email" required placeholder="your@email.com">

    <label>Your Message</label>
    <textarea name="message" required placeholder="Write your message..."></textarea>

    <!-- Honeypot -->
    <input
      type="text"
      name="nickname"
      autocomplete="off"
      style="display:none;"
    >

    <!-- Cloudflare Turnstile -->
    {% assign sitekey = site.turnstile_site_key | default: site.env.TURNSTILE_SITE_KEY | default: site.env.turnstile_site_key %}
    {% if sitekey and sitekey != '' %}
    <div class="cf-turnstile" data-sitekey="{{ sitekey }}" data-theme="auto" data-callback="onTurnstileSuccess" data-error-callback="onTurnstileError"></div>
    {% else %}
    <p class="notice" style="color:#b00;">Security check unavailable: TURNSTILE_SITE_KEY not configured.</p>
    {% endif %}

    <button type="submit">Send Message</button>
  </form>
</div>

<noscript>
  <div style="color:#b00;">JavaScript is required to display the security verification.</div>
</noscript>
